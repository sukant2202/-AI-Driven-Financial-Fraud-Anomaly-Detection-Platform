<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Credit Card Fraud Detection</title>

  <!-- Modern, presentation-ready styling -->
  <style>
    :root{
      --card-w: 420px;
      --accent: #28a745;
      --accent-dark: #218838;
      --fraud: #ff4d4f;
      --fraud-dark: #b30000;
      --bg-1: #eef6fb;
      --bg-2: #f6fbf3;
      --glass: rgba(255,255,255,0.92);
      --muted: #6b7280;
    }

    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, "Segoe UI", Arial, sans-serif;color:#222}

    body{
      background: linear-gradient(140deg, var(--bg-1) 0%, #f7f9fc 45%, #ffffff 100%);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:40px;
    }

    .page {
      width:100%;
      max-width:1100px;
      display:flex;
      gap:36px;
      align-items:flex-start;
      justify-content:center;
      flex-wrap:wrap;
    }

    /* Left: card with form */
    .card {
      width:var(--card-w);
      background:var(--glass);
      border-radius:16px;
      padding:28px;
      box-shadow: 0 12px 30px rgba(16,24,40,0.12);
      border: 1px solid rgba(20,20,30,0.03);
      transform: translateY(0);
      transition: transform .28s ease;
    }
    .card:hover{ transform: translateY(-6px) }

    .brand {
      display:flex;
      gap:12px;
      align-items:center;
      margin-bottom:14px;
    }
    .logo {
      width:48px;height:48px;border-radius:10px;
      display:flex;align-items:center;justify-content:center;
      background:linear-gradient(135deg,var(--accent), var(--accent-dark));
      color:white;font-weight:700; font-size:18px;
      box-shadow: 0 6px 18px rgba(40,167,69,0.18);
    }
    h1 { margin:0;font-size:20px;letter-spacing:0.2px }
    p.subtitle { margin:6px 0 18px;color:var(--muted);font-size:13px }

    label{ display:block; font-weight:600; font-size:13px; margin-top:10px; color:#111 }
    input[type=number]{
      width:100%;
      padding:10px 12px;
      margin-top:6px;
      border-radius:8px;
      border:1px solid #e6e9ef;
      background:white;
      font-size:14px;
      outline:none;
      transition: box-shadow .12s, border-color .12s;
    }
    input[type=number]:focus{
      border-color: rgba(40,167,69,0.6);
      box-shadow: 0 6px 18px rgba(40,167,69,0.06);
    }

    .btn {
      display:inline-block;
      margin-top:18px;
      width:100%;
      padding:12px;
      border-radius:10px;
      background: linear-gradient(180deg,var(--accent), var(--accent-dark));
      color:white;
      font-weight:700;
      border:none;
      cursor:pointer;
      font-size:15px;
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .btn:active{ transform: translateY(1px) }
    .btn:focus{ outline: none; box-shadow: 0 8px 24px rgba(40,167,69,0.14) }

    /* Right: details & visually pleasing result area for presentation */
    .side {
      width: 420px;
      max-width: 100%;
      display:flex;
      flex-direction:column;
      gap:18px;
      align-items:stretch;
    }

    .panel {
      background:var(--glass);
      padding:18px;
      border-radius:14px;
      box-shadow: 0 10px 26px rgba(16,24,40,0.06);
      border: 1px solid rgba(20,20,30,0.03);
    }

    .panel h3 { margin:0 0 8px 0; font-size:15px }
    .meta { color:var(--muted); font-size:13px; margin-bottom:6px }

    /* Result card */
    .result {
      display:flex;
      gap:14px;
      align-items:center;
      padding:14px;
      border-radius:12px;
      font-weight:700;
      font-size:15px;
    }
    .result.legit { background: linear-gradient(90deg,#eaf6ea,#d4edda); color: #125b2a; border:1px solid rgba(18,91,42,0.06) }
    .result.fraud { background: linear-gradient(90deg,#ffecec,#ffcccc); color: #7f0f0f; border:1px solid rgba(127,15,15,0.06) }

    .result .icon {
      width:38px;height:38px;border-radius:8px;display:grid;place-items:center;font-size:18px;color:white;
    }
    .result.legit .icon { background: linear-gradient(180deg,#2ecc71,#28a745) }
    .result.fraud .icon { background: linear-gradient(180deg,#ff6b6b,#ff4d4f) }

    .explain { font-size:13px; color:var(--muted); line-height:1.45; margin-top:8px }

    /* small probability bar (works if you pass 'prediction_prob' from Flask) */
    .prob-row { margin-top:10px; display:flex; gap:10px; align-items:center; }
    .bar {
      height:12px; background:#f1f5f9; border-radius:8px; flex:1; overflow:hidden; position:relative;
      border:1px solid rgba(0,0,0,0.03);
    }
    .bar .fill { height:100%; width:0%; border-radius:8px; transition: width .8s ease; }
    .bar .fill.legit { background: linear-gradient(90deg,#9be7b6,#28a745) }
    .bar .fill.fraud { background: linear-gradient(90deg,#ffb3b3,#ff4d4f) }
    .prob-label { width:68px; font-size:13px; color:var(--muted); text-align:right }

    footer { margin-top:14px; text-align:center; color:var(--muted); font-size:13px }
    @media(max-width:920px){
      .page{ padding:14px; gap:18px; justify-content:center }
      .side{ width: 100%; }
    }
  </style>
</head>
<body>
  <div class="page">

    <!-- Left: form card -->
    <div class="card" role="region" aria-label="Prediction form">
      <div class="brand">
        <div class="logo">CC</div>
        <div>
          <h1>Credit Card Fraud Detection</h1>
          <p class="subtitle">Enter transaction values to check if it looks suspicious.</p>
        </div>
      </div>

      <form action="/predict" method="post" id="predictForm">
        <!-- Keep exact order expected by your model -->
        <label for="time">Time</label>
        <input id="time" name="time" type="number" step="any" placeholder="e.g. 10000" required>

        <label for="v1">V1</label>
        <input id="v1" name="v1" type="number" step="any" placeholder="e.g. -1.2345" required>

        <label for="v2">V2</label>
        <input id="v2" name="v2" type="number" step="any" placeholder="e.g. 0.5678" required>

        <label for="amount">Amount</label>
        <input id="amount" name="amount" type="number" step="any" placeholder="e.g. 250.50" required>

        <button class="btn" type="submit">Predict</button>
      </form>

      <!-- If you want to show a short note about the dataset/training -->
      <p class="explain">Note: Model trained on the Kaggle credit-card dataset (MLP). For best results use scaled features from the same distribution.</p>
    </div>

    <!-- Right: presentation panels -->
    <div class="side">
      <div class="panel">
        <h3>Prediction Result</h3>

        <!-- Jinja: your existing `prediction_text` will appear here -->
        {% if prediction_text %}
          <!-- Add class 'fraud' or 'legit' based on prediction_text content -->
          <div id="resultCard" class="result {% if 'Fraud' in prediction_text %}fraud{% else %}legit{% endif %}">
            <div class="icon">
              {% if 'Fraud' in prediction_text %}
                ⚠️
              {% else %}
                ✅
              {% endif %}
            </div>
            <div id="resultText">{{ prediction_text }}</div>
          </div>

          <!-- Probability bar (optional): Flask can pass prediction_prob (0..1) to fill this -->
          <div class="prob-row" aria-hidden="true">
            <div class="prob-label">Confidence</div>
            <div class="bar" aria-hidden="true">
              <!-- fill width set by JS below if prediction_prob present -->
              <div id="probFill" class="fill {% if 'Fraud' in prediction_text %}fraud{% else %}legit{% endif %}" style="width:0%"></div>
            </div>
            <div style="width:56px;text-align:right;color:var(--muted);font-size:13px" id="probText">--</div>
          </div>
        {% else %}
          <div class="meta">No prediction yet. Enter values on the left and click Predict.</div>
        {% endif %}
      </div>

      <div class="panel">
        <h3>How to demo (quick)</h3>
        <div class="meta">Use these example inputs for testing during your presentation.</div>
        <ul style="margin:8px 0 0 18px;color:var(--muted);line-height:1.6">
  <li><strong>Fraud:</strong> Time=10000, V1=-1.3598, V2=-0.0728, Amount=149.62</li>
  <li><strong>Legit:</strong> Time=40648, V1=1.191857, V2=0.266151, Amount=0.00</li>
</ul>

      </div>

      <footer>Prepared for presentation • Model: MLP (PyTorch) • Dataset: Kaggle Credit Card</footer>
    </div>
  </div>

  <!-- Tiny script to set probability bar if Flask provides 'prediction_prob' -->
  <script>
    (function(){
      // If server passes a numeric prediction_prob (0..1), fill the bar and label.
      // In Flask you can do: render_template('index.html', prediction_text=..., prediction_prob=0.78)
      var probFill = document.getElementById('probFill');
      var probText = document.getElementById('probText');

      // Jinja will render prediction_prob if present; otherwise it stays undefined.
      {% if prediction_prob is defined %}
        var p = {{ prediction_prob }}; // number 0..1
        var percent = Math.round(p * 100) + '%';
        if (probFill) {
          probFill.style.width = percent;
          probText.textContent = percent;
        }
      {% else %}
        // no prob given: hide text or show N/A
        if (probText) probText.textContent = "N/A";
      {% endif %}
    })();
  </script>
</body>
</html>




